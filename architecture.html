<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AICAI V13 Architecture: Structured Scientific Discovery</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="container">
        <div id="diagram-container">
            <div class="mermaid">
            graph TD
                subgraph "SCIENTIFIC DISCOVERY ENGINE (The Brain)"
                    direction TB
                    style Analyst fill:#E3F2FD,stroke:#2196F3
                    style Designer fill:#E3F2FD,stroke:#2196F3
                    Analyst("<b>Analyst Agent</b><br>Analyzes performance &<br>formulates a testable hypothesis")
                    Designer("<b>Designer Agent</b><br>Designs the experiment<br>by creating a Challenger prompt")
                    Analyst -- "Hypothesis" --> Designer
                end

                subgraph "ENGINEERING & VERIFICATION (The Hands)"
                    direction TB
                    style Engineer fill:#E0F2F1,stroke:#009688
                    Engineer("<b>Engineer Agent</b><br>Runs Code -> Test -> Execute cycle")
                    
                    subgraph "Self-Revision Loop"
                        direction LR
                        style Debugger fill:#FFEBEE,stroke:#F44336
                        Debugger("<b>Self-Revision Mechanism</b><br>If test fails, agent is re-invoked<br>to debug its own code")
                    end
                    Engineer -- "On Failure" --> Debugger
                end

                subgraph "SYSTEM MEMORY & KNOWLEDGE"
                    direction TB
                    style PromptDB fill:#FFF3E0,stroke:#FF9800
                    style LogDB fill:#FFF3E0,stroke:#FF9800
                    PromptDB[["<b>Prompt Database</b><br>Stores Champion & Challenger prompts"]]
                    LogDB[["<b>Performance Log Database</b><br>Stores all empirical results"]]
                end

                %% Data Flow
                Designer -- "Writes Challenger Prompt" --> PromptDB
                PromptDB -- "Provides Prompt Set" --> Engineer
                Engineer -- "Writes Performance Data" --> LogDB
                LogDB -- "Provides Data for Analysis" --> Analyst

                %% Final Output
                VerifiedCode[["<b>Verified Code Artifact</b>"]]
                style VerifiedCode fill:#DCE775,stroke:#8BC34A,stroke-width:3px
                Engineer --> VerifiedCode

                %% Interactivity Callbacks
                click Analyst callback "Analyst"
                click Designer callback "Designer"
                click Engineer callback "Engineer"
                click Debugger callback "Debugger"
                click PromptDB callback "PromptDB"
                click LogDB callback "LogDB"
            </div>
        </div>
        <div id="info-panel">
            <h2>Click a component to see details.</h2>
            <div id="info-content"></div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script src="script.js"></script>
</body>
</html>